---
layout: layouts/base.njk
templateClass: tmpl-post
---

{% from "Prose.njk" import Prose %}

<article class="flex justify-center w-full">
  <div class="flex-grow max-w-4xl space-y-14 w-full">
    <div class="space-y-8">
      <h1 class="heading-2">{{ title }}</h1>

      <div>Posted <time datetime="{{ page.date | htmlDateString }}">{{ page.date | readableDate }}</time></div>

      {% if tags %}
        <div>
          <span class="font-bold">Tags:</span>

          <ul class="flex-wrap gap-4 inline-flex list-none ml-4 pl-0">
            {% for tag in tags | sort | filterTagList %}
              <li>
                {% set tagUrl %}/tags/{{ tag | slug }}/{% endset %}

                <a href="{{ tagUrl | url }}" class="post-tag">{{ tag }}</a>
              </li>
            {% endfor %}
          </ul>
        </div>
      {% endif %}

      {% if original.source and original.url %}
        <p class="italic">A version of this post originally appeared on <a href="{{ original.url | url }}">{{ original.source }}</a></p>
      {% endif %}
    </div>

    {% set proseContent %}
      {{ content | safe }}

      {% if collections.posts %}
        {% set nextPost = collections.posts | getNextCollectionItem(page) %}
        {% set previousPost = collections.posts | getPreviousCollectionItem(page) %}

        {% if nextPost or previousPost %}
          <ul class="border-t list-none mt-20 p-0 pt-10 space-y-12 w-full">
            {% if nextPost %}
              <li>
                <p>
                  <div class="font-bold text-xl">Next Post:</div>

                  <a class="mt-2" href="{{ nextPost.url | url }}">{{ nextPost.data.title }}</a>
                </p>
              </li>
            {% endif %}

            {% if previousPost %}
              <li>
                <p>
                  <div class="font-bold text-xl">Previous Post:</div>

                  <a class="mt-2" href="{{ previousPost.url | url }}">{{ previousPost.data.title }}</a>
                </p>
              </li>
            {% endif %}

            <li>
              <p>
                <a class="font-bold text-xl" href="{{ '/posts/' | url }}">See All Posts</a>
              </p>
            </li>
          </ul>
        {% endif %}
      {% endif %}
    {% endset %}

    <div>{{ Prose({ content: proseContent }) }}</div>
  </div>
</article>
